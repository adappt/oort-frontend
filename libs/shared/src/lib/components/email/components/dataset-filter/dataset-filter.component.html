<ui-spinner *ngIf="loading"></ui-spinner>
<form [formGroup]="query">
  <!-- Dataset Select -->
  <div class="mt-3 flex gap-4">
    <div class="w-1/2">
      <label htmlFor="select__dataset" class="block text-gray-700 text-sm mb-1">
        {{ 'components.queryBuilder.dataset.title' | translate }}*
      </label>
      <ng-select
        id="select__dataset"
        name="select__dataset"
        [ngModelOptions]="{ standalone: true }"
        #select
        [items]="emailService.resourcesNameId"
        bindLabel="name"
        [searchable]="true"
        bindValue="id"
        [(ngModel)]="selectedResourceId"
        [virtualScroll]="true"
        appendTo="body"
        (scrollToEnd)="getResourceDataOnScroll()"
        (change)="getResourceData()"
        placeholder="{{ 'components.queryBuilder.dataset.select' | translate }}"
      >
        <ng-template disabled selected>
          <span></span>
        </ng-template>
        <ng-template
          ng-option-tmp
          let-item="item"
          let-index="index"
          let-search="searchTerm"
        >
          <span>{{ replaceUnderscores(item.name || '') | titlecase }}</span>
        </ng-template>
      </ng-select>
    </div>
    <div class="w-1/2">
      <label htmlFor="exampleSelect" class="block text-gray-700 text-sm">
        {{ 'components.queryBuilder.block.label' | translate }}*
      </label>
      <input
        id="block_title"
        type="text"
        [placeholder]="'components.queryBuilder.block.label' | translate"
        formControlName="name"
        [ngModelOptions]="{ standalone: true }"
        [ngClass]="{'form-error': ((query.controls['name'].value === null || query.controls['name'].value === '') && query.controls['name'].touched)}"
        class="mt-1 block w-1/3 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
      />
    </div>
  </div>
  <kendo-tabstrip #datasetPreview *ngIf="resource?.fields?.length">
    <!-- Filter Tab -->
    <kendo-tabstrip-tab  *ngIf="showPreview === false" [selected]="true">
      <ng-template kendoTabTitle>
        {{ 'components.queryBuilder.filter.title' | translate }}
      </ng-template>
      <ng-template kendoTabContent>
        <ng-container *ngIf="resource?.fields?.length">
          <div class="flex-row gap-4 mt-6">
            <div class="flex gap-4">
              <!-- Table Row Limit -->
              <div class="mt-2">
                <label
                  htmlFor="data_set_limit"
                  class="block text-gray-700 text-sm"
                >
                  Table Row
                  {{
                    'components.queryBuilder.sort.limit' | translate | titlecase
                  }}
                </label>
                <input
                  id="data_set_limit"
                  class="mt-1 block w-32 py-1 px-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  type="number"
                  min="0"
                  [placeholder]="
                    'components.queryBuilder.sort.limit' | translate
                  "
                  formControlName="pageSize"
                />
              </div>
              <!-- Filter Logic -->
              <div formGroupName="filter" class="mt-2">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 text-sm"
                >
                  {{ 'components.queryBuilder.filter.logic' | translate }}
                </label>
                <select
                  id="exampleSelect"
                  name="exampleSelect"
                  formControlName="logic"
                  class="mt-1 block w-32 py-1 px-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                >
                  <option value="and">
                    {{ 'components.queryBuilder.filter.and' | translate }}
                  </option>
                  <option value="or">
                    {{ 'components.queryBuilder.filter.or' | translate }}
                  </option>
                </select>
              </div>
              <div class="mt-2">
                <!-- Filter Row -->
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 text-sm" style="color: white;"
                >a
                </label>
                <button
                type="button"
                class="mt-1 block w-32 py-1 px-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm btnDataSet"
                (click)="addNewDatasetFilter()"
                >
                {{ 'components.queryBuilder.filter.new' | translate }}
                </button>
              </div>

              <div class="mt-2">
                <!-- Filter Group -->
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 text-sm" style="color: white;"
                >a
                </label>
                <button
                  type="button"
                  class="mt-1 block w-32 py-1 px-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm btnDataSet"
                >
                  {{ 'components.queryBuilder.filter.newGroup' | translate }}
                </button>
              </div>

            </div>
          </div>
          <div formGroupName="filter">
            <div formArrayName="filters">
              <div
                *ngFor="
                  let data of datasetFilterInfo.controls;
                  let fieldIndex = index
                "
              >
                <div class="flex gap-5 ml-6" [formGroupName]="fieldIndex">
                  <!-- Filter Field -->
                  <div class="mt-4 w-1/3">
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 text-sm"
                    >
                      {{ 'components.queryBuilder.filter.field' | translate }}
                    </label>
                    <select
                      id="exampleSelect"
                      name="exampleSelect"
                      (change)="setField($event, fieldIndex)"
                      class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                      formControlName="field"
                    >
                      <ng-container
                        *ngFor="let fieldDetails of filterFields"
                      >
                        <option [value]="fieldDetails?.name">
                          {{
                            replaceUnderscores(fieldDetails?.name) | titlecase
                          }}
                        </option>
                      </ng-container>
                    </select>
                  </div>
                  <!-- Filter Operator -->
                  <div class="mt-4 w-1/3" *ngIf="operators?.[fieldIndex]">
                    <label
                      htmlFor="operator__dropdown"
                      class="block text-gray-700 text-sm"
                    >
                      {{
                        'components.queryBuilder.filter.operator' | translate
                      }}
                    </label>
                    <select
                      id="operator__dropdown"
                      class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                      formControlName="operator"
                      (ngModelChange)="onOperatorChange($event, data)"
                    >
                      <option
                        [value]="operatorDetail?.value"
                        *ngFor="let operatorDetail of operators[fieldIndex]"
                      >
                        {{ operatorDetail.label | translate | titlecase }}
                      </option>
                    </select>
                  </div>
                  <!-- Filter Value -->
                  <div
                  class="mt-4 w-1/3"
                  *ngIf="operators?.[fieldIndex] && !data.get('hideEditor')?.value"

                  >
                  <!-- Text Input for non-date/datetime fields -->
                  <ng-container *ngIf="!isDateOrDatetimeOperator(fieldIndex)">
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 text-sm"
                    >
                      {{ 'components.queryBuilder.filter.value' | translate }}
                    </label>
                    <input
                      class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                      placeholder="Enter the value"
                      formControlName="value"
                    />
                  </ng-container>
                  <!-- Date / DateTime picker or within the Last... picker -->
                  <ng-container *ngIf="isDateOrDatetimeOperator(fieldIndex)">
                    <!-- Date Picker -->
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 text-sm"
                      *ngIf="getFieldType(fieldIndex) === 'date' && data.get('operator')?.value !== 'inthelast'"
                    >
                      {{ 'components.queryBuilder.filter.value' | translate }}
                    </label>
                    <input
                      *ngIf="getFieldType(fieldIndex) === 'date' && data.get('operator')?.value !== 'inthelast'"
                      type="date"
                      class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                      placeholder="Enter the value"
                      formControlName="value"
                    />
                    <!-- Date Time Picker -->
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 text-sm"
                      *ngIf="(getFieldType(fieldIndex) === 'datetime' || getFieldType(fieldIndex) === 'datetime-local') && data.get('operator')?.value !== 'inthelast'"
                    >
                      {{ 'components.queryBuilder.filter.value' | translate }}
                    </label>
                    <input
                      *ngIf="(getFieldType(fieldIndex) === 'datetime' || getFieldType(fieldIndex) === 'datetime-local') && data.get('operator')?.value !== 'inthelast'"
                      type="datetime-local"
                      class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                      placeholder="Enter the value"
                      formControlName="value"
                    />
                    <!-- within the Last... picker -->
                    <div *ngIf="data.get('operator')?.value === 'inthelast'" formGroupName="inTheLast" class="flex">
                      <div class="mr-2">
                        <label class="block text-gray-700 text-sm">Number</label>
                        <select formControlName="number" class="block w-full mt-1 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                          <option *ngFor="let num of getNumbersArray()" [value]="num">{{ num }}</option>
                        </select>
                      </div>
                      <div>
                        <label class="block text-gray-700 text-sm">Unit</label>
                        <select formControlName="unit" class="block w-full mt-1 py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                          <option value="days">Days</option>
                          <option value="months">Months</option>
                          <option value="years">Years</option>
                        </select>
                      </div>
                    </div>
                    <div *ngIf="data.get('operator')?.value === 'inthelast'" [hidden]="true">
                      <input
                        formControlName="value"
                        type="text"
                      />
                    </div>
                  </ng-container>
                  </div>
                  <button
                    class="ui-button-icon primary medium button-danger mt-8"
                    (click)="deleteDatasetFilter(fieldIndex)"
                  >
                    <ui-icon class="text-3xl" icon="delete" variant="danger"> </ui-icon>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <button
            *ngIf="datasetFilterInfo.controls"
            type="button"
            (click)="getDataSet('filter')"
            class="text-white float-right block mt-2 w-24 rounded-md border border-blue-600 bg-blue-600 shadow-xs m-1"
          >
            {{ 'components.queryBuilder.filter.apply' | translate }}
          </button>
        </ng-container>
      </ng-template>
    </kendo-tabstrip-tab>
    <!-- Fields Tab -->
    <kendo-tabstrip-tab *ngIf="showPreview === false">
      <ng-template kendoTabTitle>
        {{ 'components.queryBuilder.fields.title' | translate }}
      </ng-template>
      <ng-template kendoTabContent>
        <ng-container>
          <div class="flex gap-4 mt-4">
            <!-- Available Fields -->
            <div class="mt-4 w-1/2">
              <label
                htmlFor="exampleSelect"
                class="block text-gray-700 text-sm"
              >
                {{ 'components.queryBuilder.fields.available' | translate }}
              </label>
              <div class="mt-4">
                <input
                  id="searchBar"
                  type="text"
                  [(ngModel)]="searchAvailableField"
                  [ngModelOptions]="{ standalone: true }"
                  placeholder="Search"
                  class="mt-1 block w-full py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                />
              </div>
              <div
                class="mt-1 text-sm text-left block w-full py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 divScroll"
              >
                <ng-container *ngFor="let fieldDetails of availableFields">
                  <div
                    *ngIf="fieldDetails?.name?.includes(searchAvailableField)"
                    (click)="addSelectedFields(fieldDetails)"
                    class="group mt-1 text-sm text-left w-full py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 hover:bg-gray-200 cursor-pointer flex justify-between items-center"
                  >
                    {{ replaceUnderscores(removeUserString(fieldDetails?.name)) | titlecase }}
                    <div class="hidden group-hover:block">
                      <ui-icon icon="arrow_right" variant="grey"></ui-icon>
                    </div>
                  </div>
                </ng-container>
              </div>
            </div>

            <!-- Selected Fields -->
            <div class="mt-4 w-1/2">
              <label
                htmlFor="exampleSelect"
                class="block text-gray-700 text-sm"
              >
                {{ 'components.queryBuilder.fields.selected' | translate }}
              </label>
              <div class="mt-4">
                <input
                  id="searchBarSelected"
                  type="text"
                  [(ngModel)]="searchSelectedField"
                  [ngModelOptions]="{ standalone: true }"
                  placeholder="Search"
                  class="mt-1 block w-full py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                />
              </div>
              <div
                class="mt-1 text-sm text-left block w-full py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 divScroll"
              >
                <ng-container *ngFor="let fields of selectedFields">
                  <div
                    *ngIf="fields?.name?.includes(searchSelectedField)"
                    (click)="removeSelectiveFields(fields)"
                    class="group mt-1 text-sm text-left w-full py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 hover:bg-gray-200 cursor-pointer flex justify-between items-center"
                  >
                    <div class="hidden group-hover:block">
                      <ui-icon icon="arrow_left" variant="grey"></ui-icon>
                    </div>
                    {{ replaceUnderscores(removeUserString(fields.name)) | titlecase }}
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </ng-container>
        <button
        *ngIf="tabs?.length > 1 && datasetFilterInfo.controls && activeTab.index !== tabs.length-1"
        type="button"
        (click)="getDataSet('fields')"
        class="text-white float-right block mt-2 w-24 rounded-md border border-blue-600 bg-blue-600 shadow-xs m-1"
      >
        {{ 'components.queryBuilder.filter.apply' | translate }}
      </button>
        <button
        *ngIf="tabs?.length === 1 || activeTab?.index === tabs?.length-1"
        type="button"
        (click)="getDataSet('preview');showPreview=true"
        class="text-white float-right block mt-2 w-24 rounded-md border border-blue-600 bg-blue-600 shadow-xs m-1"
      >
        {{ 'common.preview' | translate }}
      </button>
      </ng-template>
    </kendo-tabstrip-tab>
    <!-- Style Tab -->
    <kendo-tabstrip-tab [disabled]="true"  *ngIf="showPreview === false">
      <ng-template kendoTabTitle>
        {{ 'components.queryBuilder.style.title' | translate }}
      </ng-template>
      <ng-template kendoTabContent>
        <ng-container>
          <div>
            <div class="block mt-8 text-gray-700 font-bold text-xs">
              Block Style
            </div>
            <div>
              <div class="h-14 w-full bg-blue-50">
                <div class="mt-3 flex gap-3">
                  <div class="mt-1">
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 mt-1 text-xs"
                    >
                      Font Size
                    </label>
                    <button
                      type="button"
                      class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    >
                      16px
                    </button>
                  </div>
                  <div class="mt-1">
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 mt-1 text-xs"
                    >
                      Background Color
                    </label>
                    <button
                      type="button"
                      class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    >
                      16px
                    </button>
                  </div>
                  <div class="mt-1">
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 mt-1 text-xs"
                    >
                      Text Color
                    </label>
                    <button
                      type="button"
                      class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                    >
                      16px
                    </button>
                  </div>

                  <div class="mt-1">
                    <label
                      htmlFor="exampleSelect"
                      class="block text-gray-700 mt-1 text-xs"
                    >
                      Text Style
                    </label>
                    <div class="flex gap-3">
                      <button
                        type="button"
                        class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white font-bold unded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                      >
                        B
                      </button>

                      <button
                        type="button"
                        class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                      >
                        I
                      </button>

                      <button
                        type="button"
                        class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none underline ocus:ring-indigo-500 focus:border-indigo-500"
                      >
                        U
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex gap-3">
            <div class="mt-4">
              <label
                htmlFor="exampleSelect"
                class="block text-gray-700 text-sm"
              >
                Title*
              </label>
              <button
                type="button"
                class="mt-1 text-xs text-left block w-52 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              >
                Title
              </button>
            </div>
            <div>
              <button
                type="button"
                class="mt-9 text-xs text-left block w-24 py-1 px-2 text-white order border-gray-300 bg-blue-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              >
                Add Field
              </button>
            </div>
          </div>

          <div class="h-14 w-full bg-gray-50">
            <div class="mt-4 flex gap-3">
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Select Field
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-48 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  Single Id
                </button>
              </div>
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Font Size
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  16px
                </button>
              </div>
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Background Color
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  16px
                </button>
              </div>
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Text Color
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  16px
                </button>
              </div>

              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Text Style
                </label>
                <div class="flex gap-3">
                  <button
                    type="button"
                    class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white font-bold unded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  >
                    B
                  </button>

                  <button
                    type="button"
                    class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  >
                    I
                  </button>

                  <button
                    type="button"
                    class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none underline ocus:ring-indigo-500 focus:border-indigo-500"
                  >
                    U
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="h-14 w-full bg-gray-50">
            <div class="mt-4 flex gap-3">
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Select Field
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-48 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  Single Id
                </button>
              </div>
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Font Size
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  16px
                </button>
              </div>
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Background Color
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  16px
                </button>
              </div>
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Text Color
                </label>
                <button
                  type="button"
                  class="mt-1 text-xs text-left block w-24 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                >
                  16px
                </button>
              </div>
              <div class="mt-1">
                <label
                  htmlFor="exampleSelect"
                  class="block text-gray-700 mt-1 text-xs"
                >
                  Text Style
                </label>
                <div class="flex gap-3">
                  <button
                    type="button"
                    class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white font-bold unded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  >
                    B
                  </button>

                  <button
                    type="button"
                    class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
                  >
                    I
                  </button>

                  <button
                    type="button"
                    class="mt-1 text-xs text-left block w-8 py-1 px-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none underline ocus:ring-indigo-500 focus:border-indigo-500"
                  >
                    U
                  </button>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </ng-template>
    </kendo-tabstrip-tab>
    <!-- Preview Tab -->
    <!-- <kendo-tabstrip-tab>
      <ng-template kendoTabTitle>
        {{ 'common.preview' | translate }}
      </ng-template>
      <ng-template kendoTabContent>
        <table
          id="tblPreview"
          *ngIf="dataList?.length"
          class="dataset-preview w-full border border-blue-600 shadow-xs m-1"
        >
          <thead class="bg-blue-600 border-blue-600 shadow-xs text-white">
            <tr class="bg-blue-600 border-blue-600 shadow-xs text-white">
              <ng-container *ngFor="let fieldKeyString of dataSetFields">
                <th
                  class="bg-blue-600 border-white-600 shadow-xs text-white p-2 text-center"
                >
                  {{ replaceUnderscores(fieldKeyString) | titlecase }}
                </th>
              </ng-container>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let data of dataList"
              class="bg-white-600 border-blue-600 text-blue-600"
            >
              <ng-container *ngFor="let fieldKeyString of dataSetFields">
                <td
                  class="p-2 border border-blue-600 shadow-xs m-1 text-center"
                >
                  {{ data[fieldKeyString] }}
                </td>
              </ng-container>
            </tr>
          </tbody>
        </table>

        <button
        type="button"
        (click)="showPreview=false"
        class="text-white float-right block mt-2 w-32 rounded-md border border-blue-600 bg-blue-600 shadow-xs m-1"
      >
        {{ 'common.back' | translate }}
      </button>
      </ng-template>
    </kendo-tabstrip-tab> -->
  </kendo-tabstrip>

</form>
