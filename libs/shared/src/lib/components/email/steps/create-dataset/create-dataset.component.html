<form class="p-4" [formGroup]="dataSetFormGroup" (ngSubmit)="onSubmit()">
  <div class="text-left">
    <div class="flex gap-5">
      <div class="mt-4 w-1/3">
        <label htmlFor="exampleSelect" class="block text-gray-700 text-sm">
          {{ 'common.title' | translate }}*
        </label>
        <input id="block_title" type="text" [placeholder]="'common.title' | translate" formControlName="name"
          [(ngModel)]="activeTab.title" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" />
      </div>
      <div class="mt-4 w-1/3">
        <label htmlFor="notification__type" class="block text-gray-700 text-sm mb-1">
          {{ 'models.customNotification.type' | translate }} </label>
        <ng-select id="notification__type" name="notification__type" formControlName="notificationType"
          [items]="notificationTypes" placeholder="{{ 'models.customNotification.select' | translate }}">
          <ng-template disabled selected>
            <span></span>
          </ng-template>
          <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
            <span>{{ item }}</span>
          </ng-template>
        </ng-select>
      </div>
    </div>
    <div class="tab-container">
      <!-- Block Tabs -->
      <kendo-tabstrip formArrayName="dataSets" (tabSelect)="changeTab($event)">
        <kendo-tabstrip-tab *ngFor="let tab of tabs; let tabIndex = index" [title]="tab.title" [selected]="tab.active">
          <ng-template kendoTabTitle>
            <div class="flex gap-5 justify-between items-center">
              <span>{{ tab.title }}</span>
              <button class="ui-button-icon primary medium button-danger" (click)="deleteTab(tabIndex, $event)" type="button">
                <ui-icon icon="delete" variant="danger"></ui-icon>
              </button>
            </div>
            <ng-template [formGroupName]="tabIndex" kendoTabContent>
              <shared-dataset-filter [query]="datasetsFormArray.controls[tabIndex]"
                [activeTab]="activeTab"></shared-dataset-filter>
            </ng-template>
          </ng-template>
        </kendo-tabstrip-tab>
      </kendo-tabstrip>
      <button class="add-tab-button" type="button" (click)="addTab()">
        <ui-icon icon="add" variant="primary"></ui-icon>
      </button>
    </div>
  </div>
</form>